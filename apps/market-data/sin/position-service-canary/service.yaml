apiVersion: v1
kind: Service
metadata:
  name: position-service-canary
  namespace: alc-position-service-canary
  annotations:
    service.beta.kubernetes.io/aws-load-balancer-name: "position-service-canary"
    service.beta.kubernetes.io/aws-load-balancer-type: "nlb-ip"
    service.beta.kubernetes.io/aws-load-balancer-internal: "true"
spec:
  selector:
    app: position-service-canary
  type: LoadBalancer
  ports:
    - protocol: TCP
      port: 9250
      targetPort: ps-port
